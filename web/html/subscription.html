{{ template "page/head_start" .}}
<style>
/* ====== Reset ====== */
body, html, #app {
  margin:0; padding:0; height:100%;
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:#fff;
  overflow-x:hidden;
}

/* ====== Animated Background ====== */
.bg-animation {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.05), transparent 50%),
              radial-gradient(circle at 80% 80%, rgba(0,255,255,0.05), transparent 50%);
  background-size:200% 200%;
  animation: moveBG 25s linear infinite alternate;
  z-index:0;
}
@keyframes moveBG {
  0%{background-position:0% 0%,100% 100%;}
  100%{background-position:100% 0%,0% 100%;}
}

/* ====== Subscription Card ====== */
.subscription-card {
  position:relative;
  z-index:10;
  border-radius:20px;
  padding:2rem;
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(25px) saturate(180%);
  -webkit-backdrop-filter: blur(25px) saturate(180%);
  border:1px solid rgba(255,255,255,0.2);
  box-shadow: 0 15px 60px rgba(0,255,255,0.3);
  transition: transform 0.4s, box-shadow 0.4s;
}
.subscription-card:hover{
  transform:translateY(-5px);
  box-shadow:0 25px 80px rgba(0,255,255,0.5);
}

/* ====== QR Box ====== */
.qr-box {
  background: rgba(0,0,0,0.3);
  border-radius: 16px;
  padding: 10px;
  backdrop-filter: blur(15px);
  box-shadow: 0 5px 25px rgba(0,255,255,0.2);
  transition: transform 0.3s;
}
.qr-box:hover { transform: scale(1.05); }
.qr-tag { font-weight:bold; color:#fff; background:linear-gradient(90deg,#00ffe7,#ff00e1); border-radius:12px; }

/* ====== Buttons ====== */
.a-btn-neon {
  width:100%;
  padding:12px;
  border-radius:12px;
  font-weight:700;
  background: linear-gradient(90deg,#00ffe7,#ff00e1);
  color:#000;
  box-shadow:0 0 15px rgba(0,255,255,0.5),0 0 30px rgba(255,0,255,0.3);
  border:none;
  transition: all 0.3s;
}
.a-btn-neon:hover{
  transform:scale(1.05);
  box-shadow:0 0 25px rgba(0,255,255,0.8),0 0 50px rgba(255,0,255,0.6);
}

/* ====== Descriptions ====== */
a-descriptions-item span, a-tag {
  color:#fff;
}

/* ====== Responsive ====== */
@media(max-width:768px){
  .subscription-card { padding:1.5rem; }
  .qr-box { margin-bottom:15px; }
  .a-btn-neon { font-size:0.9rem; }
}
</style>
{{ template "page/head_end" .}}

{{ template "page/body_start" .}}
<div class="bg-animation"></div>
<a-layout id="app" v-cloak>
  <a-layout-content class="p-3">
    <a-row type="flex" justify="center">
      <a-col :xs="24" :sm="22" :md="18" :lg="14" :xl="12">
        <a-card hoverable class="subscription-card">
          
          <!-- Header -->
          <template #title>
            <a-space>
              <span>{{ i18n "subscription.title" }}</span>
              <a-tag>{{ .sId }}</a-tag>
            </a-space>
          </template>

          <!-- QR Codes -->
          <a-form layout="vertical">
            <a-form-item>
              <a-row :gutter="[16,16]" justify="center">
                <a-col :xs="24" :sm="12" style="text-align:center;">
                  <div class="qr-box">
                    <a-tag color="purple" class="qr-tag">{{ i18n "pages.settings.subSettings"}}</a-tag>
                    <canvas id="qrcode" class="qr-cv" title='{{ i18n "copy" }}' @click="copy(app.subUrl)"></canvas>
                  </div>
                </a-col>
                <a-col :xs="24" :sm="12" style="text-align:center;">
                  <div class="qr-box">
                    <a-tag color="purple" class="qr-tag">{{ i18n "pages.settings.subSettings"}} Json</a-tag>
                    <canvas id="qrcode-subjson" class="qr-cv" title='{{ i18n "copy" }}' @click="copy(app.subJsonUrl)"></canvas>
                  </div>
                </a-col>
              </a-row>
            </a-form-item>
          </a-form>

          <!-- Details -->
          <a-form layout="vertical">
            <a-form-item>
              <a-descriptions bordered :column="1" size="small">
                <a-descriptions-item label='{{ i18n "subscription.subId" }}'>[[ app.sId ]]</a-descriptions-item>
                <a-descriptions-item label='{{ i18n "subscription.status" }}'>
                  <template v-if="isUnlimited">
                    <a-tag color="purple">{{ i18n "subscription.unlimited" }}</a-tag>
                  </template>
                  <template v-else>
                    <a-tag :color="isActive ? 'green':'red'">[[ isActive ? '{{ i18n "subscription.active" }}':'{{ i18n "subscription.inactive" }}' ]]</a-tag>
                  </template>
                </a-descriptions-item>
                <a-descriptions-item label='{{ i18n "subscription.downloaded" }}'>[[ app.download ]]</a-descriptions-item>
                <a-descriptions-item label='{{ i18n "subscription.uploaded" }}'>[[ app.upload ]]</a-descriptions-item>
                <a-descriptions-item label='{{ i18n "usage" }}'>[[ app.used ]]</a-descriptions-item>
                <a-descriptions-item label='{{ i18n "subscription.totalQuota" }}'>[[ app.total ]]</a-descriptions-item>
                <a-descriptions-item v-if="app.totalByte>0" label='{{ i18n "remained" }}'>[[ app.remained ]]</a-descriptions-item>
              </a-descriptions>
            </a-form-item>
          </a-form>

          <!-- Download Links -->
          <a-list bordered>
            <a-list-item v-for="(link, idx) in links" :key="link">
              <a-button class="a-btn-neon" :block="isMobile" @click="copy(link)">[[ linkName(link, idx) ]]</a-button>
            </a-list-item>
          </a-list>

        </a-card>
      </a-col>
    </a-row>
  </a-layout-content>
</a-layout>

{{template "component/aThemeSwitch" .}}
<script src="{{ .base_path }}assets/js/subscription.js?{{ .cur_ver }}"></script>
{{ template "page/body_end" .}}
